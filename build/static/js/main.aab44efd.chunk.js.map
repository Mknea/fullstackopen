{"version":3,"sources":["components/filterForm.js","components/personForm.js","components/person.js","components/persons.js","services/persons.js","components/notification.js","App.js","index.js"],"names":["FilterForm","name","handler","value","onChange","PersonForm","submitHandler","newName","nameChangeHandler","newNumber","numberChangeHandler","onSubmit","type","Person","person","removeHandler","number","onClick","Persons","personsToShow","map","key","id","baseUrl","axios","get","then","response","data","newObject","post","existingObject","delete","changedObject","put","Notification","text","isError","notificationStyle","color","fontStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","App","useState","persons","setPersons","setNewName","setNewNumber","filterName","setFilterName","notification","setNotification","isNotificationError","setIsNotificationError","useEffect","personService","initialPersons","displayNotification","console","log","setTimeout","filter","toLowerCase","includes","event","target","preventDefault","foundPerson","find","undefined","window","confirm","changedPerson","returnedPerson","catch","error","addedPerson","concat","personToBeDeleted","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aab44efd.chunk.js","sourcesContent":["import React from 'react'\nconst FilterForm = ( {name, handler} ) => (\n    <form>\n        <div>filter shown with</div>\n        <div>\n            <input value={name} onChange={handler}/>\n        </div>\n    </form>\n)\nexport default FilterForm;","import React from 'react'\nconst PersonForm = (\n    {\n    submitHandler,\n    newName, \n    nameChangeHandler, \n    newNumber, \n    numberChangeHandler\n    } \n    ) => {\n        return(\n            <form onSubmit={submitHandler}>\n                <div>\n                name: <input value={newName} onChange={nameChangeHandler}/>\n                </div>\n                <div>\n                number: <input value={newNumber} onChange={numberChangeHandler}/>\n                </div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        )\n}\nexport default PersonForm;","import React from 'react'\nconst Person = ( {person, removeHandler} ) => {\n  return (\n    <>\n    <div>\n      {person.name} {person.number}\n      <button\n      onClick={() => removeHandler(person)} >\n        Delete\n    </button>\n    </div>\n    </>\n  )\n}\nexport default Person;","import React from 'react'\nimport Person from './person'\n\nconst Persons = ( {personsToShow, removeHandler} ) => {\n    return(\n        <>\n        {personsToShow.map(person =>\n            <Person\n                key={person.id}\n                person={person}\n                removeHandler={removeHandler}\n            />\n        )}\n        </>\n    )\n}\nexport default Persons;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = existingObject => {\n  const request = axios.delete(`${baseUrl}/${existingObject.id}`)\n  return request\n}\n\nconst update = (changedObject) => {\n  const request = axios.put(`${baseUrl}/${changedObject.id}`, changedObject)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll, \n  create,\n  remove,\n  update\n}","import React from 'react'\n\nconst Notification = ( {text, isError} ) => {\n    const notificationStyle = {\n        color : 'green',\n        fontStyle : 'italic',\n        fontSize : 20,\n        background: 'lightgrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    const errorStyle = {...notificationStyle, color : 'red'}\n    if (text === null) {\n        return null\n    }\n    return(\n        <div style={isError ? errorStyle : notificationStyle}>\n        {text}\n        </div>\n    )\n}\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport FilterForm from './components/filterForm'\nimport PersonForm from './components/personForm'\nimport Persons from './components/persons'\nimport personService from './services/persons'\nimport Notification from './components/notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('') // Text input in name form\n  const [ newNumber, setNewNumber] = useState('') // Text input in number form\n  const [ filterName, setFilterName] = useState('') // Text input in filter form\n\n  const [ notification, setNotification] = useState(null)\n  const [ isNotificationError, setIsNotificationError] = useState(true)\n\n  const handleFilterChange = (event) => {\n    setFilterName(event.target.value)\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  useEffect( () => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, []) // Perform at start\n\n  const displayNotification = (text, isError) => {\n    console.log(text)\n    setNotification(text)\n    setIsNotificationError(isError)\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const foundPerson = persons.find(person => person.name === newName)\n    if (foundPerson !== undefined) {\n      const doReplace = window.confirm(\n        `${newName} is already added to phonebook, ` +\n        `replace the old number with a new one?`)\n      if (doReplace) {\n        const changedPerson = {...foundPerson, number: newNumber}\n        personService\n          .update(changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => \n              person.id === returnedPerson.id ? returnedPerson : person)\n            )\n            displayNotification(`${returnedPerson.name}'s number was succesfully modified.`, false)\n          })\n          .catch((error) => {\n            setPersons(persons.filter(person => person.id !== changedPerson.id))\n            displayNotification(`Information of ${changedPerson.name} has already been removed from server`, true)\n          })\n      }\n    }\n    else {\n      const newPerson = {\n        name : newName,\n        number : newNumber\n      }\n      personService\n        .create(newPerson)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          displayNotification(`${addedPerson.name} was succesfully added.`, false)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          displayNotification(`Failed to add new person: ${error.response.data.error}`, true)\n        })\n    }\n  }\n  const removePerson = (personToBeDeleted) => {\n    if (window.confirm(`Delete ${personToBeDeleted.name}?`)) {\n      personService\n      .remove(personToBeDeleted)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== personToBeDeleted.id))\n        displayNotification(`${personToBeDeleted.name} was succesfully removed.`, false)\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => person.id !== personToBeDeleted.id))\n        displayNotification(`Information of ${personToBeDeleted.name} has already been removed from server`, true)\n      })\n    }\n  }\n\n  const personsToShow = persons.filter(person =>\n    person.name.toLowerCase().includes(filterName.toLowerCase())\n  )\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        text={notification}\n        isError={isNotificationError}\n      />\n      <FilterForm \n        name={filterName}\n        handler={handleFilterChange}\n      />\n\n      <h3>Add a new entry</h3>\n      <PersonForm\n        submitHandler={addPerson}\n        newName={newName}\n        nameChangeHandler={handleNameChange}\n        newNumber={newNumber}\n        numberChangeHandler={handleNumberChange}\n      />\n      \n      <h3>Numbers</h3>\n      <Persons\n        personsToShow={personsToShow}\n        removeHandler={removePerson}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}